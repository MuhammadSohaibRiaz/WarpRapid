(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3],{78939:function(e,t,a){Promise.resolve().then(a.bind(a,70491))},70491:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return ei}});var s=a(57437),l=a(2265),i=a(99376),r=a(63583),n=a(57586),o=a(62869),c=a(88906),d=a(91723),m=a(47692),h=a(76865),x=a(82431),u=a(23010),g=a(18945);function p(e){let{children:t}=e,{mode:a,color:i}=(0,u.T)(),{logout:p}=(0,g.a)(),[b,f]=(0,l.useState)(null),[j,y]=(0,l.useState)(0),[v,N]=(0,l.useState)(!1),[w,k]=(0,l.useState)(!1);(0,l.useEffect)(()=>{let e=localStorage.getItem("admin_session_end");if(e){let t=Number.parseInt(e);if(Date.now()<t)f(t);else{let e=Date.now()+18e5;f(e),localStorage.setItem("admin_session_end",e.toString())}}else{let e=Date.now()+18e5;f(e),localStorage.setItem("admin_session_end",e.toString())}},[p]),(0,l.useEffect)(()=>{let e;return b&&(e=setInterval(()=>{let e=Math.max(0,b-Date.now());y(e),0===e?p():e<=3e5&&!v&&(N(!0),k(!0))},1e3)),()=>{e&&clearInterval(e)}},[b,v,p]);let C=e=>"".concat(Math.floor(e/6e4),":").concat(Math.floor(e%6e4/1e3).toString().padStart(2,"0")),_=()=>{localStorage.removeItem("admin_session_end"),p()},S=()=>"dark"===a||"black"===i?"bg-gray-900/90 border border-gray-700/50":"bg-white/95 border border-gray-200/50",P=()=>"dark"===a||"black"===i?"text-white":"text-gray-900",I=()=>"dark"===a||"black"===i?"text-gray-300":"text-gray-600";return(0,s.jsxs)("div",{className:"min-h-screen theme-bg theme-transition",children:[(0,s.jsx)("div",{className:"".concat(S()," backdrop-blur-md border-b shadow-lg theme-transition sticky top-0 z-40"),children:(0,s.jsx)("div",{className:"container mx-auto px-6 py-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-primary to-secondary rounded-full flex items-center justify-center",children:(0,s.jsx)(c.Z,{className:"w-4 h-4 text-white"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-lg font-bold ".concat(P()," theme-transition"),children:"Admin Panel"}),(0,s.jsx)("p",{className:"text-xs ".concat(I()," theme-transition"),children:"RapidNexTech CMS"})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(d.Z,{className:"w-4 h-4 ".concat(j<=3e5?"text-orange-500":"text-primary")}),(0,s.jsx)("span",{className:"text-sm font-mono ".concat(P()," theme-transition"),children:C(j)})]}),v&&(0,s.jsx)(r.E.div,{initial:{scale:0},animate:{scale:1},className:"w-3 h-3 bg-orange-500 rounded-full animate-pulse"}),(0,s.jsxs)(o.z,{onClick:_,variant:"outline",size:"sm",className:"".concat(P()," bg-transparent border-red-500 hover:bg-red-500 hover:text-white hover:border-red-600 transition-colors duration-200"),children:[(0,s.jsx)(m.Z,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]})})}),(0,s.jsx)("div",{className:"relative",children:t}),(0,s.jsx)(n.M,{children:w&&(0,s.jsx)(r.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:(0,s.jsxs)(r.E.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"".concat(S()," backdrop-blur-md rounded-lg p-6 w-full max-w-md shadow-2xl theme-transition"),children:[(0,s.jsxs)("div",{className:"text-center mb-6",children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-orange-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,s.jsx)(h.Z,{className:"w-8 h-8 text-orange-500"})}),(0,s.jsx)("h2",{className:"text-xl font-bold ".concat(P()," mb-2 theme-transition"),children:"Session Expiring Soon"}),(0,s.jsxs)("p",{className:"".concat(I()," theme-transition"),children:["Your admin session will expire in ",C(j)]})]}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsxs)(o.z,{onClick:()=>{let e=Date.now()+18e5;f(e),localStorage.setItem("admin_session_end",e.toString()),N(!1),k(!1)},className:"flex-1 bg-primary hover:bg-primary/90 text-white",children:[(0,s.jsx)(x.Z,{className:"w-4 h-4 mr-2"}),"Extend Session"]}),(0,s.jsxs)(o.z,{onClick:_,variant:"outline",className:"flex-1 border-red-500/30 text-red-500 hover:bg-red-500/10 bg-transparent",children:[(0,s.jsx)(m.Z,{className:"w-4 h-4 mr-2"}),"Logout"]})]}),(0,s.jsx)("div",{className:"mt-4 text-center",children:(0,s.jsx)("p",{className:"text-xs ".concat(I()," theme-transition"),children:"Session will be extended by 30 minutes"})})]})})})]})}var b=a(95186),f=a(76818),j=a(5005),y=a(48736),v=a(53417),N=a(95805),w=a(77139),k=a(73247),C=a(40875),_=a(99397),S=a(31047),P=a(15868),I=a(87769),z=a(42208),E=a(86595),T=a(18930),D=a(32489),A=a(88156),Z=a(83229),L=a(76286);function U(e){var t;let{isOpen:a,onClose:l,onSave:i,editingPartner:c,formData:d,setFormData:m}=e,{mode:h,color:x}=(0,u.T)();return(0,s.jsx)(n.M,{children:a&&(0,s.jsx)(r.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 overflow-y-auto",onClick:l,children:(0,s.jsxs)(r.E.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"".concat("dark"===h||"black"===x?"bg-gray-900/40":"bg-white/40"," backdrop-blur-md rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto theme-transition"),onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold theme-text theme-transition",children:c?"Edit Partner":"Add Partner"}),(0,s.jsx)(o.z,{variant:"ghost",onClick:l,children:(0,s.jsx)(D.Z,{className:"w-5 h-5"})})]}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium theme-text mb-2",children:"Company Name *"}),(0,s.jsx)(b.I,{value:d.company_name||"",onChange:e=>m(t=>({...t,company_name:e.target.value})),placeholder:"Acme Inc.",className:"theme-text bg-transparent"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium theme-text mb-2",children:"Website"}),(0,s.jsx)(b.I,{type:"url",value:d.company_website||"",onChange:e=>m(t=>({...t,company_website:e.target.value})),placeholder:"https://acme.com",className:"theme-text bg-transparent"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium theme-text mb-2",children:"Logo URL *"}),(0,s.jsx)(b.I,{value:d.company_logo||"",onChange:e=>m(t=>({...t,company_logo:e.target.value})),placeholder:"https://<project>.supabase.co/storage/v1/object/public/partner-logos/logo.png",className:"theme-text bg-transparent"}),(0,s.jsx)("p",{className:"text-xs theme-text opacity-60 mt-1",children:'Upload logos to Supabase Storage bucket "partner-logos" and paste the public URL here.'})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium theme-text mb-2",children:"Partnership Type"}),(0,s.jsx)(b.I,{value:d.partnership_type||"",onChange:e=>m(t=>({...t,partnership_type:e.target.value})),placeholder:"Technology Partner",className:"theme-text bg-transparent"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium theme-text mb-2",children:"Display Order"}),(0,s.jsx)(b.I,{type:"number",min:"0",value:null!==(t=d.display_order)&&void 0!==t?t:0,onChange:e=>m(t=>({...t,display_order:Number(e.target.value)||0})),className:"theme-text bg-transparent"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium theme-text mb-2",children:"Description"}),(0,s.jsx)(f.g,{value:d.description||"",onChange:e=>m(t=>({...t,description:e.target.value})),rows:3,className:"theme-text bg-transparent"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-6",children:[(0,s.jsxs)("label",{className:"flex items-center gap-2",children:[(0,s.jsx)("input",{type:"checkbox",checked:d.is_published||!1,onChange:e=>m(t=>({...t,is_published:e.target.checked}))}),(0,s.jsx)("span",{className:"text-sm theme-text",children:"Published"})]}),(0,s.jsxs)("label",{className:"flex items-center gap-2",children:[(0,s.jsx)("input",{type:"checkbox",checked:d.is_featured||!1,onChange:e=>m(t=>({...t,is_featured:e.target.checked}))}),(0,s.jsxs)("span",{className:"text-sm theme-text flex items-center",children:[(0,s.jsx)(E.Z,{className:"w-3 h-3 mr-1"})," Featured"]})]})]})]}),(0,s.jsxs)("div",{className:"flex gap-4 mt-8 pt-6 border-t border-gray-300 dark:border-gray-600",children:[(0,s.jsxs)(o.z,{onClick:i,className:"bg-primary hover:bg-primary/90 text-white",children:[(0,s.jsx)(Z.Z,{className:"w-4 h-4 mr-2"})," Save Partner"]}),(0,s.jsx)(o.z,{variant:"outline",onClick:l,children:"Cancel"})]})]})})})}let B=(0,l.memo)(function(e){let{partner:t,onEdit:a,onTogglePublish:i,onToggleFeatured:n,onDelete:c,cardBgClass:d,index:m}=e,h=(0,l.useMemo)(()=>.05*m,[m]);return(0,s.jsx)(r.E.div,{className:"".concat(d," backdrop-blur-md rounded-lg shadow-lg overflow-hidden theme-transition flex flex-col"),initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:h,duration:.25},children:(0,s.jsxs)("div",{className:"p-4 flex flex-col h-full",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("div",{className:"flex items-center space-x-3 min-w-0",children:(0,s.jsx)("img",{src:t.company_logo||"/placeholder.svg?height=40&width=120&text=Logo",alt:t.company_name,className:"h-12 w-auto max-w-[160px] object-contain"})}),(0,s.jsxs)("div",{className:"flex flex-col items-end space-y-1",children:[(0,s.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(t.is_published?"bg-green-500 text-white":"bg-yellow-500 text-black"),children:t.is_published?"Published":"Draft"}),t.is_featured&&(0,s.jsx)("span",{className:"px-2 py-1 bg-blue-500 text-white rounded-full text-xs font-medium",children:"Featured"})]})]}),t.description&&(0,s.jsx)("p",{className:"text-sm theme-text opacity-80 mb-4 line-clamp-3",children:t.description}),(0,s.jsxs)("div",{className:"flex gap-2 mt-auto",children:[(0,s.jsxs)(o.z,{size:"sm",variant:"outline",onClick:()=>a(t),className:"flex-1",children:[(0,s.jsx)(P.Z,{className:"w-3 h-3 mr-1"})," Edit"]}),(0,s.jsx)(o.z,{size:"sm",variant:"outline",onClick:()=>n(t.id),className:t.is_featured?"text-blue-600":"text-gray-600",children:(0,s.jsx)(E.Z,{className:"w-3 h-3"})}),(0,s.jsx)(o.z,{size:"sm",variant:"outline",onClick:()=>i(t.id),className:t.is_published?"text-yellow-600":"text-green-600",children:t.is_published?(0,s.jsx)(I.Z,{className:"w-3 h-3"}):(0,s.jsx)(z.Z,{className:"w-3 h-3"})}),(0,s.jsx)(o.z,{size:"sm",variant:"outline",onClick:()=>c(t.id),className:"text-red-600 hover:text-red-700",children:(0,s.jsx)(T.Z,{className:"w-3 h-3"})})]})]})})});var F=a(94508);let R=(0,l.memo)(function(e){var t,a;let{post:i,onEdit:n,onTogglePublish:c,onDelete:d,cardBgClass:m,index:h}=e,x=(0,l.useMemo)(()=>.1*h,[h]);return(0,s.jsxs)(r.E.div,{className:"".concat(m," backdrop-blur-md rounded-lg shadow-lg overflow-hidden theme-transition flex flex-col"),initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:x,duration:.3,ease:"easeOut"},children:[(0,s.jsxs)("div",{className:"relative h-48 overflow-hidden",children:[(0,s.jsx)("img",{src:(null===(t=i.images[0])||void 0===t?void 0:t.url)||"/placeholder.svg?height=200&width=300&query=Blog%20post",alt:(null===(a=i.images[0])||void 0===a?void 0:a.alt)||i.title,className:"w-full h-full object-cover",loading:"lazy"}),(0,s.jsx)("div",{className:"absolute top-2 right-2",children:(0,s.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(i.is_published?"bg-green-500 text-white":"bg-yellow-500 text-black"),children:i.is_published?"Published":"Draft"})})]}),(0,s.jsxs)("div",{className:"p-4 flex flex-col h-full",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)("div",{className:"flex flex-wrap gap-1",children:(i.tags||[]).slice(0,2).map((e,t)=>(0,s.jsx)("span",{className:"px-2 py-1 bg-secondary/20 theme-text rounded text-xs theme-transition",children:e},"".concat(e,"-").concat(t)))}),(0,s.jsx)("span",{className:"text-xs theme-text opacity-50 theme-transition",children:i.date?new Date(i.date).toLocaleDateString():""})]}),(0,s.jsx)("h3",{className:"text-lg font-semibold theme-text mb-2 theme-transition line-clamp-2",children:i.title}),(0,s.jsx)("p",{className:"text-sm theme-text opacity-70 mb-4 line-clamp-3 theme-transition flex-grow",children:i.excerpt}),(0,s.jsxs)("div",{className:"flex items-center justify-between text-xs theme-text opacity-60 mb-4 theme-transition",children:[(0,s.jsx)("span",{className:"truncate",children:i.author}),(0,s.jsx)("span",{className:"truncate ml-2",children:i.slug})]}),(0,s.jsxs)("div",{className:"flex gap-2 mt-auto",children:[(0,s.jsxs)(o.z,{size:"sm",variant:"outline",onClick:()=>n(i),className:"flex-1",children:[(0,s.jsx)(P.Z,{className:"w-3 h-3 mr-1"})," Edit"]}),(0,s.jsx)(o.z,{size:"sm",variant:"outline",onClick:()=>c(i.id),className:i.is_published?"text-yellow-600":"text-green-600",children:i.is_published?(0,s.jsx)(I.Z,{className:"w-3 h-3"}):(0,s.jsx)(z.Z,{className:"w-3 h-3"})}),(0,s.jsx)(o.z,{size:"sm",variant:"outline",onClick:()=>d(i.id),className:"text-red-600 hover:text-red-700",children:(0,s.jsx)(T.Z,{className:"w-3 h-3"})})]})]})]})});var M=a(53113);function O(e){let{images:t,onImagesChange:a,bucketName:l,placeholder:i}=e,{mode:r,color:n}=(0,u.T)(),c=()=>"https://fmwzrgjfxgxnnislysya.supabase.co/storage/v1/object/public/".concat(l,"/"),d=e=>{a(t.filter((t,a)=>a!==e))},m=(e,s,l)=>{let i=[...t];i[e]={...i[e],[s]:l},a(i)},h=()=>"dark"===r||"black"===n?"border-gray-600 bg-gray-800/30":"border-gray-300 bg-gray-50/30";return(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("label",{className:"block text-sm font-medium theme-text theme-transition",children:[(0,s.jsx)(M.Z,{className:"inline w-4 h-4 mr-2"}),"blog-images"===l?"Blog Images":"Project Images"]}),(0,s.jsxs)(o.z,{type:"button",variant:"outline",size:"sm",onClick:()=>{let e={id:Math.max(0,...t.map(e=>e.id))+1,url:"",alt:"",caption:""};a([...t,e])},children:[(0,s.jsx)(_.Z,{className:"w-4 h-4 mr-1"}),"Add Image"]})]}),(0,s.jsxs)("div",{className:"space-y-4 max-h-60 overflow-y-auto",children:[t.map((e,t)=>(0,s.jsxs)("div",{className:"p-4 border rounded-lg ".concat(h()),children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,s.jsxs)("span",{className:"text-sm font-medium theme-text",children:["Image ",e.id]}),(0,s.jsx)(o.z,{type:"button",variant:"ghost",size:"sm",onClick:()=>d(t),children:(0,s.jsx)(T.Z,{className:"w-4 h-4"})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-medium theme-text mb-1",children:"Image URL *"}),(0,s.jsx)(b.I,{value:e.url,onChange:e=>m(t,"url",e.target.value),placeholder:i||c()+"your-image-name.jpg",className:"theme-text bg-transparent text-sm"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-medium theme-text mb-1",children:"Alt Text *"}),(0,s.jsx)(b.I,{value:e.alt,onChange:e=>m(t,"alt",e.target.value),placeholder:"Describe the image",className:"theme-text bg-transparent text-sm"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-medium theme-text mb-1",children:"Caption"}),(0,s.jsx)(b.I,{value:e.caption||"",onChange:e=>m(t,"caption",e.target.value),placeholder:"Optional caption",className:"theme-text bg-transparent text-sm"})]})]})]})]},e.id)),0===t.length&&(0,s.jsxs)("div",{className:"p-6 border-2 border-dashed rounded-lg text-center ".concat("dark"===r||"black"===n?"border-gray-600":"border-gray-300"),children:[(0,s.jsx)(M.Z,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),(0,s.jsx)("p",{className:"text-sm theme-text opacity-70",children:'No images added yet. Click "Add Image" to start.'}),(0,s.jsx)("p",{className:"text-xs theme-text opacity-50 mt-1",children:"Upload images to Supabase Storage first, then paste the URLs here."})]})]})]})}var q=a(41217);function G(e){let{tags:t,onChange:a,suggestions:i=[]}=e,[o,c]=(0,l.useState)(""),[d,m]=(0,l.useState)(!1),h=(0,l.useRef)(null),x=e=>{let s=e.trim().toLowerCase();s&&!t.includes(s)&&a([...t,s]),c(""),m(!1)},u=e=>{a(t.filter(t=>t!==e))},g=i.filter(e=>e.toLowerCase().includes(o.toLowerCase())&&!t.includes(e.toLowerCase())).slice(0,5);return(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,s.jsx)(n.M,{children:t.map(e=>(0,s.jsxs)(r.E.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"group flex items-center gap-1.5 px-3 py-1.5 rounded-full bg-primary/10 border border-primary/20 text-primary text-xs font-bold transition-all hover:border-primary/40",children:[(0,s.jsx)(q.Z,{className:"w-3 h-3 opacity-50"}),(0,s.jsx)("span",{children:e}),(0,s.jsx)("button",{onClick:()=>u(e),className:"ml-1 p-0.5 rounded-full hover:bg-primary/20 transition-colors",title:"Remove tag",children:(0,s.jsx)(D.Z,{className:"w-3 h-3"})})]},e))}),0===t.length&&(0,s.jsx)("p",{className:"text-xs text-muted-foreground italic py-2",children:"No tags added yet. Type below to add tags."})]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("div",{className:"relative group",children:[(0,s.jsx)(b.I,{ref:h,type:"text",value:o,onChange:e=>{c(e.target.value),m(!0)},onKeyDown:e=>{"Enter"===e.key||","===e.key?(e.preventDefault(),x(o)):"Backspace"===e.key&&!o&&t.length>0&&u(t[t.length-1])},onFocus:()=>m(!0),placeholder:"Add a tag and press Enter...",className:"theme-text bg-transparent border-gray-300 dark:border-gray-600 focus:border-primary group-hover:border-primary/50 transition-all pr-10"}),(0,s.jsx)("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground opacity-50",children:(0,s.jsx)(_.Z,{className:"w-4 h-4"})})]}),(0,s.jsx)(n.M,{children:d&&o&&g.length>0&&(0,s.jsx)(r.E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute z-50 w-full mt-2 p-1 rounded-xl bg-background border border-border shadow-2xl backdrop-blur-xl",children:g.map(e=>(0,s.jsxs)("button",{onClick:()=>x(e),className:"w-full text-left px-4 py-2.5 rounded-lg text-sm theme-text hover:bg-primary/10 hover:text-primary transition-all flex items-center gap-2",children:[(0,s.jsx)(q.Z,{className:"w-3 h-3 opacity-50"}),e]},e))})})]}),(0,s.jsx)("p",{className:"text-[10px] uppercase font-bold tracking-widest text-muted-foreground opacity-50",children:"Tip: Press Enter or comma to add a tag. Backspace to remove last."})]})}function J(e){var t,a,l,i;let{isOpen:c,onClose:d,onSave:m,editingPost:h,formData:x,setFormData:g,blogTags:p,slugify:j}=e,{mode:y,color:v}=(0,u.T)();return(0,s.jsx)(n.M,{children:c&&(0,s.jsx)(r.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 overflow-y-auto",onClick:d,children:(0,s.jsxs)(r.E.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"".concat("dark"===y||"black"===v?"bg-gray-900/40":"bg-white/40"," backdrop-blur-md rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto theme-transition"),onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold theme-text theme-transition",children:h?"Edit Blog Post":"Add New Blog Post"}),(0,s.jsx)(o.z,{variant:"ghost",onClick:d,children:(0,s.jsx)(D.Z,{className:"w-5 h-5"})})]}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium theme-text mb-2 theme-transition",children:"Title *"}),(0,s.jsx)(b.I,{value:x.title||"",onChange:e=>g(t=>({...t,title:e.target.value,slug:j(e.target.value)})),placeholder:"Blog post title",className:"theme-text bg-transparent"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium theme-text mb-2 theme-transition",children:"Slug"}),(0,s.jsx)(b.I,{value:x.slug||"",onChange:e=>g(t=>({...t,slug:e.target.value})),placeholder:"blog-post-slug",className:"theme-text bg-transparent"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium theme-text mb-2 theme-transition",children:"Author"}),(0,s.jsx)(b.I,{value:x.author||"",onChange:e=>g(t=>({...t,author:e.target.value})),placeholder:"Author name",className:"theme-text bg-transparent"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium theme-text mb-2 theme-transition",children:"Date"}),(0,s.jsx)(b.I,{type:"date",value:x.date||"",onChange:e=>g(t=>({...t,date:e.target.value})),className:"theme-text bg-transparent"})]})]}),(0,s.jsx)(O,{images:x.images||[],onImagesChange:e=>g(t=>({...t,images:e})),bucketName:"blog-images",placeholder:"https://fmwzrgjfxgxnnislysya.supabase.co/storage/v1/object/public/blog-images/your-blog-image.jpg"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium theme-text mb-2 theme-transition",children:"Tags & Keywords"}),(0,s.jsx)(G,{tags:x.tags||[],onChange:e=>g(t=>({...t,tags:e})),suggestions:p})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium theme-text mb-2 theme-transition",children:"Excerpt *"}),(0,s.jsx)(f.g,{value:x.excerpt||"",onChange:e=>g(t=>({...t,excerpt:e.target.value})),placeholder:"Brief description of the blog post",className:"theme-text bg-transparent",rows:3})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)("label",{className:"block text-sm font-medium theme-text theme-transition",children:"Content *"}),(0,s.jsx)("span",{className:"text-xs opacity-50 theme-text",children:"Markdown Supported"})]}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-2 mb-2 p-2 border rounded-t-md bg-black/5 dark:bg-white/5 border-b-0 border-gray-300 dark:border-gray-600",children:[(0,s.jsx)(o.z,{type:"button",variant:"ghost",size:"sm",className:"h-8 px-2 text-xs",onClick:()=>{let e=document.getElementById("blog-content-area"),t=e.selectionStart,a=e.selectionEnd,s=x.content||"",l=s.substring(0,t)+"**"+s.substring(t,a)+"**"+s.substring(a);g(e=>({...e,content:l}))},children:(0,s.jsx)("strong",{children:"B"})}),(0,s.jsx)(o.z,{type:"button",variant:"ghost",size:"sm",className:"h-8 px-2 text-xs italic",onClick:()=>{let e=document.getElementById("blog-content-area"),t=e.selectionStart,a=e.selectionEnd,s=x.content||"",l=s.substring(0,t)+"*"+s.substring(t,a)+"*"+s.substring(a);g(e=>({...e,content:l}))},children:"I"}),(0,s.jsx)(o.z,{type:"button",variant:"ghost",size:"sm",className:"h-8 px-2 text-xs",onClick:()=>g(e=>({...e,content:(e.content||"")+"\n## "})),children:"H2"}),(0,s.jsx)(o.z,{type:"button",variant:"ghost",size:"sm",className:"h-8 px-2 text-xs",onClick:()=>g(e=>({...e,content:(e.content||"")+"\n\n[Link Text](https://...)"})),children:"Link"}),(0,s.jsx)("div",{className:"w-px h-4 bg-border mx-1 mt-2"}),x.images&&x.images.length>0&&(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-[10px] uppercase font-bold opacity-40 ml-2",children:"Gallery:"}),x.images.map((e,t)=>(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsxs)(o.z,{type:"button",variant:"outline",size:"sm",className:"h-8 px-2 text-[10px] bg-primary/5 border-primary/20 hover:bg-primary/10",title:"Insert ".concat(e.alt||"Image ".concat(t)," (Full Width)"),onClick:()=>{let e=x.content||"",a="\n\n[Image:".concat(t,"]\n\n");g(t=>({...t,content:e+a}))},children:["IMG:",t]}),(0,s.jsx)(o.z,{type:"button",variant:"ghost",size:"sm",className:"h-8 px-1.5 text-[9px] opacity-60 hover:opacity-100",title:"Float Left",onClick:()=>{let e=x.content||"",a="\n\n[Image:".concat(t,":left]\n\n");g(t=>({...t,content:e+a}))},children:"←"}),(0,s.jsx)(o.z,{type:"button",variant:"ghost",size:"sm",className:"h-8 px-1.5 text-[9px] opacity-60 hover:opacity-100",title:"Float Right",onClick:()=>{let e=x.content||"",a="\n\n[Image:".concat(t,":right]\n\n");g(t=>({...t,content:e+a}))},children:"→"})]},e.id))]})]}),(0,s.jsx)(f.g,{id:"blog-content-area",value:x.content||"",onChange:e=>g(t=>({...t,content:e.target.value})),placeholder:"Structure your post using Markdown. Use [Image:0] for full-width images, or [Image:0:left] / [Image:0:right] to float images alongside text.",className:"theme-text bg-transparent rounded-t-none border-t-0 border-gray-300 dark:border-gray-600",rows:15})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium theme-text mb-2 theme-transition",children:"SEO Title"}),(0,s.jsx)(b.I,{value:x.seo_title||"",onChange:e=>g(t=>({...t,seo_title:e.target.value})),placeholder:"SEO optimized title",className:"theme-text bg-transparent"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium theme-text mb-2 theme-transition",children:"SEO Description"}),(0,s.jsx)(f.g,{value:x.seo_description||"",onChange:e=>g(t=>({...t,seo_description:e.target.value})),placeholder:"SEO meta description",className:"theme-text bg-transparent",rows:2})]})]}),(0,s.jsxs)("div",{className:"space-y-4 pt-4 border-t border-gray-300 dark:border-gray-600",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("label",{className:"block text-sm font-medium theme-text theme-transition",children:"Frequently Asked Questions"}),(0,s.jsx)(o.z,{type:"button",variant:"outline",size:"sm",onClick:()=>{let e=x.faqs||[];g(t=>({...t,faqs:[...e,{question:"",answer:""}]}))},children:"Add FAQ"})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(x.faqs||[]).map((e,t)=>(0,s.jsxs)("div",{className:"p-4 border rounded-lg bg-black/5 dark:bg-white/5 space-y-3 relative group",children:[(0,s.jsx)(o.z,{type:"button",variant:"ghost",size:"icon",className:"absolute top-2 right-2 h-6 w-6 text-red-500 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>{let e=[...x.faqs||[]];e.splice(t,1),g(t=>({...t,faqs:e}))},children:(0,s.jsx)(D.Z,{className:"w-4 h-4"})}),(0,s.jsx)("div",{children:(0,s.jsx)(b.I,{placeholder:"Question",value:e.question,onChange:e=>{let a=[...x.faqs||[]];a[t].question=e.target.value,g(e=>({...e,faqs:a}))},className:"theme-text bg-transparent font-medium"})}),(0,s.jsx)("div",{children:(0,s.jsx)(f.g,{placeholder:"Answer",value:e.answer,onChange:e=>{let a=[...x.faqs||[]];a[t].answer=e.target.value,g(e=>({...e,faqs:a}))},className:"theme-text bg-transparent text-sm",rows:2})})]},t)),0===(x.faqs||[]).length&&(0,s.jsx)("p",{className:"text-xs opacity-50 text-center theme-text italic",children:"No FAQs added yet."})]})]}),(0,s.jsxs)("div",{className:"space-y-4 pt-4 border-t border-gray-300 dark:border-gray-600",children:[(0,s.jsx)("label",{className:"block text-sm font-medium theme-text theme-transition",children:"Custom Call to Action (Optional)"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsx)(b.I,{placeholder:"CTA Title (e.g., Ready to start?)",value:(null===(t=x.cta)||void 0===t?void 0:t.title)||"",onChange:e=>g(t=>({...t,cta:{...t.cta||{},title:e.target.value}})),className:"theme-text bg-transparent"}),(0,s.jsx)(b.I,{placeholder:"Button Text",value:(null===(a=x.cta)||void 0===a?void 0:a.buttonText)||"",onChange:e=>g(t=>({...t,cta:{...t.cta||{},buttonText:e.target.value}})),className:"theme-text bg-transparent"}),(0,s.jsx)(b.I,{placeholder:"Button Link",value:(null===(l=x.cta)||void 0===l?void 0:l.buttonLink)||"",onChange:e=>g(t=>({...t,cta:{...t.cta||{},buttonLink:e.target.value}})),className:"theme-text bg-transparent"}),(0,s.jsx)(f.g,{placeholder:"CTA Description",value:(null===(i=x.cta)||void 0===i?void 0:i.description)||"",onChange:e=>g(t=>({...t,cta:{...t.cta||{},description:e.target.value}})),className:"theme-text bg-transparent",rows:1})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("input",{type:"checkbox",id:"isBlogPublished",checked:x.is_published||!1,onChange:e=>g(t=>({...t,is_published:e.target.checked})),className:"rounded"}),(0,s.jsx)("label",{htmlFor:"isBlogPublished",className:"text-sm font-medium theme-text theme-transition",children:"Publish immediately"})]})]}),(0,s.jsxs)("div",{className:"flex gap-4 mt-8 pt-6 border-t border-gray-300 dark:border-gray-600",children:[(0,s.jsxs)(o.z,{onClick:m,className:"bg-primary hover:bg-primary/90 text-white flex-1",children:[(0,s.jsx)(Z.Z,{className:"w-4 h-4 mr-2"})," ",h?"Update Blog Post":"Create Blog Post"]}),(0,s.jsx)(o.z,{variant:"outline",onClick:d,className:"flex-1 bg-transparent",children:"Cancel"})]})]})})})}var Q=a(43745),W=a(92369);let H=(0,l.memo)(function(e){let{testimonial:t,onEdit:a,onTogglePublish:i,onToggleFeatured:n,onDelete:c,cardBgClass:d,index:m}=e,h=(0,l.useMemo)(()=>.1*m,[m]);return(0,s.jsx)(r.E.div,{className:"".concat(d," backdrop-blur-md rounded-lg shadow-lg overflow-hidden theme-transition flex flex-col"),initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:h,duration:.3,ease:"easeOut"},children:(0,s.jsxs)("div",{className:"p-4 flex flex-col h-full",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("div",{className:"flex items-center space-x-3 min-w-0 flex-1",children:"identified"===t.testimonial_type&&t.client_name?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("img",{src:t.client_image||"/placeholder.svg?height=50&width=50&query=Client",alt:t.client_name,className:"w-12 h-12 rounded-full object-cover flex-shrink-0"}),(0,s.jsxs)("div",{className:"min-w-0",children:[(0,s.jsx)("h3",{className:"font-semibold theme-text theme-transition truncate",children:t.client_name}),(0,s.jsxs)("p",{className:"text-sm theme-text opacity-70 theme-transition truncate",children:[t.client_position," ",t.client_company?"at ".concat(t.client_company):""]})]})]}):(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-primary to-secondary flex items-center justify-center flex-shrink-0",children:(0,s.jsx)(Q.Z,{className:"w-6 h-6 text-white"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-semibold theme-text theme-transition",children:"Anonymous Client"}),(0,s.jsx)("p",{className:"text-sm theme-text opacity-70 theme-transition",children:"Verified Review"})]})]})}),(0,s.jsxs)("div",{className:"flex flex-col items-end space-y-1 flex-shrink-0",children:[(0,s.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(t.is_published?"bg-green-500 text-white":"bg-yellow-500 text-black"),children:t.is_published?"Published":"Draft"}),t.is_featured&&(0,s.jsx)("span",{className:"px-2 py-1 bg-blue-500 text-white rounded-full text-xs font-medium",children:"Featured"}),(0,s.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("identified"===t.testimonial_type?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200"),children:"identified"===t.testimonial_type?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(W.Z,{className:"w-3 h-3 inline mr-1"})," Identified"]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(Q.Z,{className:"w-3 h-3 inline mr-1"})," Anonymous"]})})]})]}),(0,s.jsx)("div",{className:"flex items-center mb-3",children:[...Array(t.rating||0)].map((e,t)=>(0,s.jsx)(E.Z,{className:"w-4 h-4 text-yellow-400 fill-current"},t))}),(0,s.jsx)("p",{className:"text-sm theme-text opacity-80 mb-4 line-clamp-4 theme-transition flex-grow",children:'"'+t.review_text+'"'}),t.project_category&&(0,s.jsx)("div",{className:"mb-4",children:(0,s.jsx)("span",{className:"px-2 py-1 bg-primary/20 text-primary rounded text-xs",children:t.project_category})}),(0,s.jsxs)("div",{className:"flex gap-2 mt-auto",children:[(0,s.jsxs)(o.z,{size:"sm",variant:"outline",onClick:()=>a(t),className:"flex-1",children:[(0,s.jsx)(P.Z,{className:"w-3 h-3 mr-1"})," Edit"]}),(0,s.jsx)(o.z,{size:"sm",variant:"outline",onClick:()=>n(t.id),className:t.is_featured?"text-blue-600":"text-gray-600",children:(0,s.jsx)(E.Z,{className:"w-3 h-3"})}),(0,s.jsx)(o.z,{size:"sm",variant:"outline",onClick:()=>i(t.id),className:t.is_published?"text-yellow-600":"text-green-600",children:t.is_published?(0,s.jsx)(I.Z,{className:"w-3 h-3"}):(0,s.jsx)(z.Z,{className:"w-3 h-3"})}),(0,s.jsx)(o.z,{size:"sm",variant:"outline",onClick:()=>c(t.id),className:"text-red-600 hover:text-red-700",children:(0,s.jsx)(T.Z,{className:"w-3 h-3"})})]})]})})});function V(e){let{isOpen:t,onClose:a,onSave:i,editingTestimonial:c,categories:d,formData:m,setFormData:h}=e,{mode:x,color:g}=(0,u.T)(),p=function(e){let t=l.useRef(!1);return{onMouseDown:l.useCallback(e=>{t.current=e.target===e.currentTarget},[]),onClick:l.useCallback(a=>{t.current&&a.target===a.currentTarget&&e(),t.current=!1},[e])}}(a);return(0,s.jsx)(n.M,{children:t&&(0,s.jsx)(r.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 overflow-y-auto",onMouseDown:p.onMouseDown,onClick:p.onClick,children:(0,s.jsxs)(r.E.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"".concat("dark"===x||"black"===g?"bg-gray-900/40":"bg-white/40"," backdrop-blur-md rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto theme-transition"),onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold theme-text theme-transition",children:c?"Edit Testimonial":"Add New Testimonial"}),(0,s.jsx)(o.z,{variant:"ghost",onClick:a,children:(0,s.jsx)(D.Z,{className:"w-5 h-5"})})]}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium theme-text mb-2 theme-transition",children:"Testimonial Type *"}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,s.jsx)("input",{type:"radio",name:"testimonial_type",value:"identified",checked:"identified"===m.testimonial_type,onChange:e=>h(t=>({...t,testimonial_type:e.target.value})),className:"text-primary"}),(0,s.jsxs)("span",{className:"text-sm theme-text theme-transition flex items-center",children:[(0,s.jsx)(W.Z,{className:"w-4 h-4 mr-1"})," Identified (with client details)"]})]}),(0,s.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,s.jsx)("input",{type:"radio",name:"testimonial_type",value:"anonymous",checked:"anonymous"===m.testimonial_type,onChange:e=>h(t=>({...t,testimonial_type:e.target.value})),className:"text-primary"}),(0,s.jsxs)("span",{className:"text-sm theme-text theme-transition flex items-center",children:[(0,s.jsx)(Q.Z,{className:"w-4 h-4 mr-1"})," Anonymous (text and stars only)"]})]})]})]}),"identified"===m.testimonial_type&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium theme-text mb-2 theme-transition",children:"Client Name *"}),(0,s.jsx)(b.I,{value:m.client_name||"",onChange:e=>h(t=>({...t,client_name:e.target.value})),placeholder:"John Doe",className:"theme-text bg-transparent"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium theme-text mb-2 theme-transition",children:"Position *"}),(0,s.jsx)(b.I,{value:m.client_position||"",onChange:e=>h(t=>({...t,client_position:e.target.value})),placeholder:"CEO",className:"theme-text bg-transparent"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium theme-text mb-2 theme-transition",children:"Company *"}),(0,s.jsx)(b.I,{value:m.client_company||"",onChange:e=>h(t=>({...t,client_company:e.target.value})),placeholder:"Company Name",className:"theme-text bg-transparent"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium theme-text mb-2 theme-transition",children:"Client Image URL"}),(0,s.jsx)(b.I,{value:m.client_image||"",onChange:e=>h(t=>({...t,client_image:e.target.value})),placeholder:"https://images.unsplash.com/photo-...",className:"theme-text bg-transparent"})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium theme-text mb-2 theme-transition",children:"Review Text *"}),(0,s.jsx)(f.g,{value:m.review_text||"",onChange:e=>h(t=>({...t,review_text:e.target.value})),placeholder:"The client's review...",className:"theme-text bg-transparent",rows:4})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium theme-text mb-2 theme-transition",children:"Rating"}),(0,s.jsx)("select",{value:m.rating||5,onChange:e=>h(t=>({...t,rating:Number(e.target.value)})),className:"w-full px-3 py-2 rounded-md border ".concat("dark"===x||"black"===g?"border-gray-600 bg-gray-800/50":"border-gray-300 bg-white/50"," theme-text theme-transition"),children:[5,4,3,2,1].map(e=>(0,s.jsxs)("option",{value:e,children:[e," Star",1!==e?"s":""]},e))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium theme-text mb-2 theme-transition",children:"Project Category"}),(0,s.jsxs)("select",{value:m.project_category||"",onChange:e=>h(t=>({...t,project_category:e.target.value})),className:"w-full px-3 py-2 rounded-md border ".concat("dark"===x||"black"===g?"border-gray-600 bg-gray-800/50":"border-gray-300 bg-white/50"," theme-text theme-transition"),children:[(0,s.jsx)("option",{value:"",children:"Select category"}),d.map(e=>(0,s.jsx)("option",{value:e,children:e},e))]})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("input",{type:"checkbox",id:"isFeatured",checked:m.is_featured||!1,onChange:e=>h(t=>({...t,is_featured:e.target.checked})),className:"rounded"}),(0,s.jsx)("label",{htmlFor:"isFeatured",className:"text-sm font-medium theme-text theme-transition",children:"Featured Testimonial"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("input",{type:"checkbox",id:"isTestimonialPublished",checked:m.is_published||!1,onChange:e=>h(t=>({...t,is_published:e.target.checked})),className:"rounded"}),(0,s.jsx)("label",{htmlFor:"isTestimonialPublished",className:"text-sm font-medium theme-text theme-transition",children:"Publish immediately"})]})]})]}),(0,s.jsxs)("div",{className:"flex gap-4 mt-8 pt-6 border-t border-gray-300 dark:border-gray-600",children:[(0,s.jsxs)(o.z,{onClick:i,className:"bg-primary hover:bg-primary/90 text-white flex-1",children:[(0,s.jsx)(Z.Z,{className:"w-4 h-4 mr-2"})," ",c?"Update Testimonial":"Create Testimonial"]}),(0,s.jsx)(o.z,{variant:"outline",onClick:a,className:"flex-1 bg-transparent",children:"Cancel"})]})]})})})}let K=["Web Development","App Development","UI/UX Design","E-commerce","Enterprise Software","AI & Machine Learning","FinTech Solutions","Healthcare Tech","SaaS Products","Cloud Infrastructure","Cybersecurity","Digital Transformation","Blockchain & Web3","IoT Solutions","Big Data & Analytics"],X=["React","Next.js","Vue.js","Angular","Svelte","HTML5","CSS3","JavaScript","TypeScript","Node.js","Express","Python","Django","Flask","FastAPI","PHP","Laravel","Ruby","Rails","Java","Spring Boot","C#",".NET Core","Go","Rust","GraphQL","REST API","gRPC","React Native","Flutter","Swift","Kotlin","Ionic","Xamarin","PostgreSQL","MySQL","MongoDB","Redis","Supabase","Firebase","DynamoDB","MariaDB","SQLite","Elasticsearch","AWS","Azure","Google Cloud","Vercel","Netlify","Docker","Kubernetes","Terraform","GitHub Actions","GitLab CI","Jenkins","OpenAI (GPT-4)","Claude AI","Google Gemini","LangChain","PyTorch","TensorFlow","Pandas","Scikit-learn","Hugging Face","Tailwind CSS","Framer Motion","Material UI","Chakra UI","shadcn/ui","Sass","Styled Components","Radix UI","PostCSS","Figma","Adobe XD","Photoshop","Postman","Swagger","Jira","Trello","Vite","ESLint","Zustand","TanStack Query","Radix primitives","React Router","React Hook Form","Zod","Recharts","Stripe","PayPal","Shopify","WooCommerce","Magento","Web3.js","Ether.js","Solidity","MQTT","Arduino","Raspberry Pi"],Y=["web development","mobile development","UI/UX","javascript","react","nodejs","python","database","cloud computing","devops","artificial intelligence","machine learning","cybersecurity","blockchain","startup","technology","programming","software engineering","best practices","tutorials"];var $=a(41671),ee=a(49322),et=a(33245);function ea(e){let{toast:t,onClose:a}=e,l={success:$.Z,error:ee.Z,info:et.Z,warning:h.Z}[t.type];return(0,s.jsxs)(r.E.div,{initial:{opacity:0,x:100,scale:.95},animate:{opacity:1,x:0,scale:1},exit:{opacity:0,x:100,scale:.95},transition:{type:"spring",stiffness:500,damping:30},className:"\n        relative flex w-full max-w-sm items-start space-x-3 rounded-lg border p-4 shadow-xl backdrop-blur-sm\n        ".concat({success:"border-green-200 bg-green-50 text-green-800 dark:border-green-800 dark:bg-green-900/40 dark:text-green-200",error:"border-red-200 bg-red-50 text-red-800 dark:border-red-800 dark:bg-red-900/40 dark:text-red-200",info:"border-blue-200 bg-blue-50 text-blue-800 dark:border-blue-800 dark:bg-blue-900/40 dark:text-blue-200",warning:"border-yellow-200 bg-yellow-50 text-yellow-800 dark:border-yellow-800 dark:bg-yellow-900/40 dark:text-yellow-200"}[t.type],"\n      "),children:[(0,s.jsx)(l,{className:"mt-0.5 h-5 w-5 flex-shrink-0 ".concat({success:"text-green-600 dark:text-green-400",error:"text-red-600 dark:text-red-400",info:"text-blue-600 dark:text-blue-400",warning:"text-yellow-600 dark:text-yellow-400"}[t.type])}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("h4",{className:"text-sm font-semibold leading-tight",children:t.title}),t.description&&(0,s.jsx)("p",{className:"text-sm opacity-90 mt-1 leading-tight",children:t.description})]}),(0,s.jsx)(o.z,{variant:"ghost",size:"sm",onClick:()=>a(t.id),className:"h-6 w-6 p-0 hover:bg-black/10 dark:hover:bg-white/10 flex-shrink-0",children:(0,s.jsx)(D.Z,{className:"h-4 w-4"})})]})}function es(e){let{toasts:t,onClose:a}=e;return(0,s.jsx)("div",{className:"fixed bottom-4 right-4 z-[200] flex flex-col space-y-2 pointer-events-none",children:(0,s.jsx)(n.M,{mode:"popLayout",children:t.map(e=>(0,s.jsx)("div",{className:"pointer-events-auto",children:(0,s.jsx)(ea,{toast:e,onClose:a})},e.id))})})}function el(){var e;let{mode:t,color:a}=(0,u.T)(),i=function(e,t){let a="dark"===e||"black"===t;return{cardBg:a?"bg-gray-900/40":"bg-white/40",dropdownBg:a?"bg-gray-900/95 border-gray-700":"bg-white/95 border-gray-300",text:a?"text-white":"text-gray-900",secondaryText:a?"text-gray-300":"text-gray-600",inputBg:a?"border-gray-600 bg-gray-800/50":"border-gray-300 bg-white/50",borderColor:a?"border-gray-600":"border-gray-300"}}(t,a),c=(0,L.RQ)(),d=function(){let[e,t]=(0,l.useState)([]),a=(0,l.useCallback)(e=>{let a=Date.now().toString()+Math.random().toString(36),s={...e,id:a};return t(e=>[...e,s]),0!==e.duration&&setTimeout(()=>{t(e=>e.filter(e=>e.id!==a))},e.duration||5e3),a},[]),s=(0,l.useCallback)(e=>{t(t=>t.filter(t=>t.id!==e))},[]),i=(0,l.useCallback)((e,t,s)=>a({title:e,description:t,type:"success",duration:s}),[a]),r=(0,l.useCallback)((e,t,s)=>a({title:e,description:t,type:"error",duration:s}),[a]),n=(0,l.useCallback)((e,t,s)=>a({title:e,description:t,type:"info",duration:s}),[a]),o=(0,l.useCallback)((e,t,s)=>a({title:e,description:t,type:"warning",duration:s}),[a]);return{toasts:e,addToast:a,removeToast:s,success:i,error:r,info:n,warning:o,clearAll:(0,l.useCallback)(()=>{t([])},[])}}(),[m,h]=(0,l.useState)("projects"),[x,g]=(0,l.useState)([]),[p,M]=(0,l.useState)([]),[O,q]=(0,l.useState)([]),[G,Q]=(0,l.useState)([]),[W,$]=(0,l.useState)(!0),[ee,et]=(0,l.useState)(!1),[ea,el]=(0,l.useState)(!1),[ei,er]=(0,l.useState)(!1),[en,eo]=(0,l.useState)(!1),[ec,ed]=(0,l.useState)(null),[em,eh]=(0,l.useState)(null),[ex,eu]=(0,l.useState)(null),[eg,ep]=(0,l.useState)(null),[eb,ef]=(0,l.useState)(""),[ej,ey]=(0,l.useState)("All"),[ev,eN]=(0,l.useState)("All"),[ew,ek]=(0,l.useState)(!1),[eC,e_]=(0,l.useState)(!1),[eS,eP]=(0,l.useState)(null),[eI,ez]=(0,l.useState)(!1),[eE,eT]=(0,l.useState)(null),[eD,eA]=(0,l.useState)(""),[eZ,eL]=(0,l.useState)({title:"",category:"",technology:[],description:"",long_description:"",challenge:"",solution:"",results:[""],features:[""],images:[{id:1,url:"",alt:"",caption:""}],duration:"",team_size:1,client_type:"",live_url:"",github_url:"",is_published:!1,testimonial:{quote:"",author:"",position:"",company:""},is_featured:!1}),[eU,eB]=(0,l.useState)({title:"",slug:"",excerpt:"",content:"",images:[],tags:[],author:"RapidNexTech Team",date:new Date().toISOString().split("T")[0],is_published:!1,seo_title:"",seo_description:""}),[eF,eR]=(0,l.useState)({client_name:"",client_position:"",client_company:"",client_image:"",review_text:"",rating:5,project_category:"",testimonial_type:"identified",is_featured:!1,is_published:!1}),[eM,eO]=(0,l.useState)({company_name:"",company_logo:"",company_website:"",partnership_type:"",description:"",is_featured:!1,is_published:!1,display_order:0}),eq=(0,l.useCallback)((e,t)=>{localStorage.setItem("wr-project-draft",JSON.stringify({data:e,id:t,timestamp:Date.now()}))},[]),eG=(0,l.useCallback)((e,t)=>{localStorage.setItem("wr-blog-draft",JSON.stringify({data:e,id:t,timestamp:Date.now()}))},[]),eJ=(0,l.useCallback)(()=>{localStorage.removeItem("wr-project-draft")},[]),eQ=(0,l.useCallback)(()=>{localStorage.removeItem("wr-blog-draft")},[]);(0,l.useEffect)(()=>{ee&&eZ.title&&eq(eZ,(null==ec?void 0:ec.id)||null)},[eZ,ee,ec]),(0,l.useEffect)(()=>{ea&&eU.title&&eG(eU,(null==em?void 0:em.id)||null)},[eU,ea,em]),(0,l.useEffect)(()=>{eW()},[]);let eW=async()=>{try{$(!0);let[e,t,a,s]=await Promise.all([c.getAllProjects(),c.getAllBlogPosts(),c.getAllReviews(),c.getAllPartners()]);g(e),M(t),q(a),Q(s)}catch(e){console.error("Error loading data:",e)}finally{$(!1)}},eH=x.filter(e=>{let t=e.title.toLowerCase().includes(eb.toLowerCase())||e.description.toLowerCase().includes(eb.toLowerCase()),a="All"===ej||e.category===ej,s="All"===ev||"Published"===ev&&e.is_published||"Draft"===ev&&!e.is_published;return t&&a&&s}),eV=p.filter(e=>{let t=e.title.toLowerCase().includes(eb.toLowerCase())||e.excerpt.toLowerCase().includes(eb.toLowerCase()),a="All"===ev||"Published"===ev&&e.is_published||"Draft"===ev&&!e.is_published;return t&&a}),eK=O.filter(e=>{let t=e.client_name&&e.client_name.toLowerCase().includes(eb.toLowerCase())||e.client_company&&e.client_company.toLowerCase().includes(eb.toLowerCase())||e.review_text.toLowerCase().includes(eb.toLowerCase()),a="All"===ev||"Published"===ev&&e.is_published||"Draft"===ev&&!e.is_published;return t&&a}),eX=G.filter(e=>{let t=e.company_name.toLowerCase().includes(eb.toLowerCase())||(e.partnership_type||"").toLowerCase().includes(eb.toLowerCase()),a="All"===ev||"Published"===ev&&e.is_published||"Draft"===ev&&!e.is_published;return t&&a}),eY=(0,l.useCallback)(()=>{eL({title:"",category:"",technology:[],description:"",long_description:"",challenge:"",solution:"",results:[""],features:[""],images:[{id:1,url:"",alt:"",caption:""}],duration:"",team_size:1,client_type:"",live_url:"",github_url:"",is_published:!1,testimonial:{quote:"",author:"",position:"",company:""}}),ed(null),et(!1),eA(""),eJ()},[eJ]),e$=e=>{eL(e),ed(e),et(!0)},e0=()=>{et(!0)},e1=()=>{let e=localStorage.getItem("wr-project-draft");if(e)try{let{data:t,id:a}=JSON.parse(e);if(eL(t),a){let e=x.find(e=>e.id===a);e&&ed(e)}et(!0)}catch(e){console.error(e)}},e2=async()=>{if(!eZ.title||!eZ.category||!eZ.description){d.warning("Missing Information","Please fill in all required fields");return}try{if(ec){let e=await c.updateProject(ec.id,eZ);g(t=>t.map(t=>t.id===e.id?e:t)),d.success("Project Updated","Project has been successfully updated")}else{let e=await c.addProject(eZ);g(t=>[...t,e]),d.success("Project Created","New project has been added successfully")}eY()}catch(e){console.error("Error saving project:",e),d.error("Save Failed","Error saving project. Please try again.")}},e4=async e=>{if(confirm("Are you sure you want to delete this project?"))try{await c.deleteProject(e),g(t=>t.filter(t=>t.id!==e)),d.success("Project Deleted","Project has been successfully removed")}catch(e){console.error("Error deleting project:",e),d.error("Delete Failed","Error deleting project. Please try again.")}},e3=async e=>{try{let t=await c.togglePublishStatus(e);g(e=>e.map(e=>e.id===t.id?t:e)),d.success(t.is_published?"Project Published":"Project Unpublished","Project is now ".concat(t.is_published?"live":"hidden from public"))}catch(e){console.error("Error toggling project publish status:",e),d.error("Update Failed","Error updating project status. Please try again.")}},e5=(0,l.useCallback)(()=>{eB({title:"",slug:"",excerpt:"",content:"",images:[],tags:[],author:"RapidNexTech Team",date:new Date().toISOString().split("T")[0],is_published:!1,seo_title:"",seo_description:""}),eh(null),el(!1),eQ()},[eQ]),e6=()=>{el(!0)},e8=()=>{let e=localStorage.getItem("wr-blog-draft");if(e)try{let{data:t,id:a}=JSON.parse(e);if(eB(t),a){let e=p.find(e=>e.id===a);e&&eh(e)}el(!0)}catch(e){console.error(e)}},e9=async()=>{if(!eU.title||!eU.excerpt||!eU.content){d.warning("Missing Information","Please fill in all required fields");return}try{let e=eU.slug||(0,F.l)(eU.title||""),t={...eU,slug:e};if(em){let e=await c.updateBlogPost(em.id,t);M(t=>t.map(t=>t.id===e.id?e:t)),d.success("Blog Updated","Blog post has been successfully updated")}else{let e=await c.addBlogPost(t);M(t=>[e,...t]),d.success("Blog Created","New blog post has been published successfully")}e5()}catch(e){console.error("Error saving blog post:",e),d.error("Save Failed","Error saving blog post. Please try again.")}},e7=async e=>{if(confirm("Are you sure you want to delete this blog post?"))try{await c.deleteBlogPost(e),M(t=>t.filter(t=>t.id!==e)),d.success("Blog Deleted","Blog post has been successfully removed")}catch(e){console.error("Error deleting blog post:",e),d.error("Delete Failed","Error deleting blog post. Please try again.")}},te=async e=>{try{let t=await c.toggleBlogPublishStatus(e);M(e=>e.map(e=>e.id===t.id?t:e)),d.success(t.is_published?"Blog Published":"Blog Unpublished","Blog post is now ".concat(t.is_published?"live":"hidden from public"))}catch(e){console.error("Error toggling blog publish status:",e),d.error("Update Failed","Error updating blog status. Please try again.")}},tt=async()=>{if(!eF.review_text){d.warning("Missing Information","Please fill in the review text");return}if("identified"===eF.testimonial_type&&(!eF.client_name||!eF.client_company)){d.warning("Missing Information","Please fill in client name and company for identified testimonials");return}try{if(ex){let e=await c.updateReview(ex.id,eF);q(t=>t.map(t=>t.id===e.id?e:t)),d.success("Testimonial Updated","Testimonial has been successfully updated")}else{let e=await c.addReview(eF);q(t=>[e,...t]),d.success("Testimonial Created","New testimonial has been added successfully")}er(!1),eu(null)}catch(e){console.error("Error saving testimonial:",e),d.error("Save Failed","Error saving testimonial. Please try again.")}},ta=async e=>{if(confirm("Are you sure you want to delete this testimonial?"))try{await c.deleteReview(e),q(t=>t.filter(t=>t.id!==e)),d.success("Testimonial Deleted","Testimonial has been successfully removed")}catch(e){console.error("Error deleting testimonial:",e),d.error("Delete Failed","Error deleting testimonial. Please try again.")}},ts=async e=>{try{let t=await c.toggleReviewPublishStatus(e);q(e=>e.map(e=>e.id===t.id?t:e)),d.success(t.is_published?"Testimonial Published":"Testimonial Unpublished","Testimonial is now ".concat(t.is_published?"live":"hidden from public"))}catch(e){console.error("Error toggling testimonial publish status:",e),d.error("Update Failed","Error updating testimonial status. Please try again.")}},tl=async e=>{try{let t=await c.toggleReviewFeaturedStatus(e);q(e=>e.map(e=>e.id===t.id?t:e)),d.success(t.is_featured?"Testimonial Featured":"Testimonial Unfeatured","Testimonial is now ".concat(t.is_featured?"featured":"not featured"))}catch(e){console.error("Error toggling testimonial featured status:",e),d.error("Update Failed","Error updating testimonial featured status. Please try again.")}},ti=(e,t,a)=>{eL(s=>({...s,images:(s.images||[]).map((s,l)=>l===e?{...s,[t]:a}:s)}))},tr=e=>{eL(t=>({...t,images:(t.images||[]).filter((t,a)=>a!==e)}))},tn=async(e,t)=>{try{eP(e),eT(null);let a=await c.uploadImage(t);if(!a)throw Error("Upload failed. Please try again.");eL(s=>{let l=[...s.images||[]],i=l[e];return l[e]={...i,url:a,alt:(null==i?void 0:i.alt)||t.name.replace(/\.[^/.]+$/,""),caption:(null==i?void 0:i.caption)||""},{...s,images:l}})}catch(e){eT((null==e?void 0:e.message)||"Upload failed")}finally{eP(null)}},to=async e=>{if(e&&0!==e.length){ez(!0),eT(null);try{var t;let a=Math.max(...(null===(t=eZ.images)||void 0===t?void 0:t.map(e=>e.id))||[0])+1,s=[];for(let t of Array.from(e)){let e=await c.uploadImage(t);e&&s.push({id:a++,url:e,alt:t.name.replace(/\.[^/.]+$/,""),caption:""})}s.length&&eL(e=>({...e,images:[...e.images||[],...s]}))}catch(e){eT((null==e?void 0:e.message)||"Bulk upload failed")}finally{ez(!1)}}};return W?(0,s.jsx)("div",{className:"min-h-screen theme-bg theme-transition flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),(0,s.jsx)("p",{className:"theme-text theme-transition",children:"Loading admin dashboard..."})]})}):(0,s.jsxs)("div",{className:"min-h-screen theme-bg theme-transition relative overflow-hidden",children:[(0,s.jsxs)("div",{className:"absolute inset-0",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-[url('/grid.svg')] bg-center [mask-image:linear-gradient(180deg,white,rgba(255,255,255,0))]"}),(0,s.jsx)(r.E.div,{className:"absolute inset-0 theme-glow blur-3xl theme-transition",animate:{x:["0%","100%","0%"],y:["0%","50%","0%"]},transition:{duration:20,repeat:Number.POSITIVE_INFINITY,ease:"linear"}})]}),(0,s.jsxs)("div",{className:"container mx-auto px-6 py-12 relative z-10",children:[(0,s.jsxs)(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[(0,s.jsx)("h1",{className:"text-4xl font-bold bg-clip-text text-transparent theme-gradient-text theme-transition mb-4",children:"Content Management System"}),(0,s.jsx)("p",{className:"theme-text opacity-80 theme-transition",children:"Manage your portfolio projects, blog posts, and client testimonials - add, edit, delete, and control visibility"})]}),(0,s.jsx)(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"mb-8",children:(0,s.jsxs)("div",{className:"flex space-x-1 rounded-lg bg-gray-100 dark:bg-gray-800 p-1 overflow-x-auto",children:[(0,s.jsxs)("button",{onClick:()=>h("projects"),className:"flex items-center space-x-2 px-4 py-2 rounded-md font-medium transition-all whitespace-nowrap ".concat("projects"===m?"bg-primary text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"),children:[(0,s.jsx)(j.Z,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:"Projects"}),(0,s.jsx)("span",{className:"bg-white/20 px-2 py-1 rounded-full text-xs",children:x.length})]}),(0,s.jsxs)("button",{onClick:()=>h("blog"),className:"flex items-center space-x-2 px-4 py-2 rounded-md font-medium transition-all whitespace-nowrap ".concat("blog"===m?"bg-primary text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"),children:[(0,s.jsx)(y.Z,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:"Blog"}),(0,s.jsx)("span",{className:"bg-white/20 px-2 py-1 rounded-full text-xs",children:p.length})]}),(0,s.jsxs)("button",{onClick:()=>h("testimonials"),className:"flex items-center space-x-2 px-4 py-2 rounded-md font-medium transition-all whitespace-nowrap ".concat("testimonials"===m?"bg-primary text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"),children:[(0,s.jsx)(v.Z,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:"Testimonials"}),(0,s.jsx)("span",{className:"bg-white/20 px-2 py-1 rounded-full text-xs",children:O.length})]}),(0,s.jsxs)("button",{onClick:()=>h("partners"),className:"flex items-center space-x-2 px-4 py-2 rounded-md font-medium transition-all whitespace-nowrap ".concat("partners"===m?"bg-primary text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"),children:[(0,s.jsx)(N.Z,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:"Partners"}),(0,s.jsx)("span",{className:"bg-white/20 px-2 py-1 rounded-full text-xs",children:G.length})]}),(0,s.jsxs)("button",{onClick:()=>h("drafts"),className:"flex items-center space-x-2 px-4 py-2 rounded-md font-medium transition-all whitespace-nowrap ".concat("drafts"===m?"bg-primary text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"),children:[(0,s.jsx)(w.Z,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:"Drafts"})]})]})}),(0,s.jsxs)(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"".concat(i.cardBg," backdrop-blur-md rounded-lg p-6 mb-8 shadow-lg theme-transition"),children:[(0,s.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 flex-1",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(k.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 theme-text opacity-50"}),(0,s.jsx)(b.I,{placeholder:"Search ".concat(m,"..."),value:eb,onChange:e=>ef(e.target.value),className:"pl-10 theme-text bg-transparent border-gray-300 dark:border-gray-600"})]}),"projects"===m&&(0,s.jsxs)("div",{className:"relative dropdown-container",children:[(0,s.jsxs)("button",{onClick:()=>{ek(!ew),e_(!1)},className:"flex items-center justify-between w-full md:w-48 px-3 py-2 rounded-md border ".concat("dark"===t||"black"===a?"border-gray-600 bg-gray-800/50":"border-gray-300 bg-white/50"," theme-text theme-transition hover:bg-opacity-80"),children:[(0,s.jsx)("span",{children:ej}),(0,s.jsx)(C.Z,{className:"w-4 h-4 transition-transform ".concat(ew?"rotate-180":"")})]}),(0,s.jsx)(n.M,{children:ew&&(0,s.jsx)(r.E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute top-full left-0 right-0 mt-1 ".concat(i.dropdownBg," backdrop-blur-md rounded-md shadow-lg border z-[100] max-h-60 overflow-y-auto"),children:["All",...K].map(e=>(0,s.jsx)("button",{onClick:()=>{ey(e),ek(!1)},className:"w-full text-left px-3 py-2 theme-text hover:bg-primary/20 transition-colors ".concat(ej===e?"bg-primary/10":""),children:e},e))})})]}),(0,s.jsxs)("div",{className:"relative dropdown-container",children:[(0,s.jsxs)("button",{onClick:()=>{e_(!eC),ek(!1)},className:"flex items-center justify-between w-full md:w-48 px-3 py-2 rounded-md border ".concat("dark"===t||"black"===a?"border-gray-600 bg-gray-800/50":"border-gray-300 bg-white/50"," theme-text theme-transition hover:bg-opacity-80"),children:[(0,s.jsx)("span",{children:ev}),(0,s.jsx)(C.Z,{className:"w-4 h-4 transition-transform ".concat(eC?"rotate-180":"")})]}),(0,s.jsx)(n.M,{children:eC&&(0,s.jsx)(r.E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute top-full left-0 right-0 mt-1 ".concat(i.dropdownBg," backdrop-blur-md rounded-md shadow-lg border z-[100]"),children:["All","Published","Draft"].map(e=>(0,s.jsx)("button",{onClick:()=>{eN(e),e_(!1)},className:"w-full text-left px-3 py-2 theme-text hover:bg-primary/20 transition-colors ".concat(ev===e?"bg-primary/10":""),children:e},e))})})]})]}),(0,s.jsxs)(o.z,{onClick:()=>{"projects"===m?e0():"blog"===m?e6():"testimonials"===m?er(!0):"partners"===m&&eo(!0)},className:"bg-primary hover:bg-primary/90 text-white",children:[(0,s.jsx)(_.Z,{className:"w-4 h-4 mr-2"}),"Add ","projects"===m?"Project":"blog"===m?"Blog Post":"Testimonial"]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-6",children:[(0,s.jsxs)("button",{onClick:()=>eN("All"),className:"text-center group hover:scale-105 transition-transform",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-primary group-hover:text-primary/80",children:"projects"===m?x.length:"blog"===m?p.length:"testimonials"===m?O.length:"partners"===m?G.length:(localStorage.getItem("wr-project-draft")?1:0)+(localStorage.getItem("wr-blog-draft")?1:0)}),(0,s.jsxs)("div",{className:"text-sm theme-text opacity-70 theme-transition group-hover:opacity-100",children:["Total ","projects"===m?"Projects":"blog"===m?"Posts":"testimonials"===m?"Testimonials":"partners"===m?"Partners":"Drafts"]})]}),(0,s.jsxs)("button",{onClick:()=>eN("Published"),className:"text-center group hover:scale-105 transition-transform",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-green-500 group-hover:text-green-400",children:"projects"===m?x.filter(e=>e.is_published).length:"blog"===m?p.filter(e=>e.is_published).length:"testimonials"===m?O.filter(e=>e.is_published).length:G.filter(e=>e.is_published).length}),(0,s.jsx)("div",{className:"text-sm theme-text opacity-70 theme-transition group-hover:opacity-100",children:"Published"})]}),(0,s.jsxs)("button",{onClick:()=>eN("Draft"),className:"text-center group hover:scale-105 transition-transform",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-yellow-500 group-hover:text-yellow-400",children:"projects"===m?x.filter(e=>!e.is_published).length:"blog"===m?p.filter(e=>!e.is_published).length:"testimonials"===m?O.filter(e=>!e.is_published).length:G.filter(e=>!e.is_published).length}),(0,s.jsx)("div",{className:"text-sm theme-text opacity-70 theme-transition group-hover:opacity-100",children:"Drafts"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-blue-500",children:"projects"===m?eH.length:"blog"===m?eV.length:"testimonials"===m?eK.length:"partners"===m?eX.length:(localStorage.getItem("wr-project-draft")?1:0)+(localStorage.getItem("wr-blog-draft")?1:0)}),(0,s.jsx)("div",{className:"text-sm theme-text opacity-70 theme-transition",children:"Filtered"})]})]})]}),(0,s.jsxs)(r.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:["drafts"===m&&(0,s.jsxs)(s.Fragment,{children:[(()=>{let e=localStorage.getItem("wr-project-draft");if(!e)return null;try{let{data:t,timestamp:a}=JSON.parse(e);return(0,s.jsxs)(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"".concat(i.cardBg," backdrop-blur-md rounded-lg p-6 border-l-4 border-yellow-500 shadow-lg theme-transition flex flex-col items-center text-center"),children:[(0,s.jsx)("div",{className:"p-3 bg-yellow-500/10 rounded-full mb-4",children:(0,s.jsx)(j.Z,{className:"w-8 h-8 text-yellow-500"})}),(0,s.jsx)("h3",{className:"text-xl font-bold theme-text mb-2 line-clamp-1",children:t.title||"Untitled Project"}),(0,s.jsxs)("p",{className:"text-sm theme-text opacity-60 mb-6",children:["Unsaved project changes from ",new Date(a).toLocaleTimeString()]}),(0,s.jsxs)("div",{className:"flex gap-3 w-full mt-auto",children:[(0,s.jsx)(o.z,{onClick:e1,className:"flex-1 bg-yellow-500 hover:bg-yellow-600 text-black font-semibold",children:"Resume"}),(0,s.jsx)(o.z,{variant:"outline",onClick:eJ,className:"flex-1 text-red-500 hover:text-red-600",children:"Discard"})]})]})}catch(e){return null}})(),(()=>{let e=localStorage.getItem("wr-blog-draft");if(!e)return null;try{let{data:t,timestamp:a}=JSON.parse(e);return(0,s.jsxs)(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"".concat(i.cardBg," backdrop-blur-md rounded-lg p-6 border-l-4 border-orange-500 shadow-lg theme-transition flex flex-col items-center text-center"),children:[(0,s.jsx)("div",{className:"p-3 bg-orange-500/10 rounded-full mb-4",children:(0,s.jsx)(y.Z,{className:"w-8 h-8 text-orange-500"})}),(0,s.jsx)("h3",{className:"text-xl font-bold theme-text mb-2 line-clamp-1",children:t.title||"Untitled Post"}),(0,s.jsxs)("p",{className:"text-sm theme-text opacity-60 mb-6",children:["Unsaved blog changes from ",new Date(a).toLocaleTimeString()]}),(0,s.jsxs)("div",{className:"flex gap-3 w-full mt-auto",children:[(0,s.jsx)(o.z,{onClick:e8,className:"flex-1 bg-orange-500 hover:bg-orange-600 text-white font-semibold",children:"Resume"}),(0,s.jsx)(o.z,{variant:"outline",onClick:eQ,className:"flex-1 text-red-500 hover:text-red-600",children:"Discard"})]})]})}catch(e){return null}})(),!localStorage.getItem("wr-project-draft")&&!localStorage.getItem("wr-blog-draft")&&(0,s.jsxs)("div",{className:"col-span-full py-20 text-center",children:[(0,s.jsx)("div",{className:"text-7xl mb-6",children:"✨"}),(0,s.jsx)("h3",{className:"text-2xl font-bold theme-text mb-3 text-primary",children:"No Unsaved Work"}),(0,s.jsx)("p",{className:"theme-text opacity-70 max-w-md mx-auto",children:"Your changes are automatically saved as drafts while you edit projects or blog posts."})]})]}),"projects"===m&&eH.map((e,t)=>{var a;return(0,s.jsxs)(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*t},className:"".concat(i.cardBg," backdrop-blur-md rounded-lg shadow-lg overflow-hidden theme-transition flex flex-col"),children:[(0,s.jsxs)("div",{className:"relative h-48 overflow-hidden",children:[(0,s.jsx)("img",{src:(null===(a=e.images[0])||void 0===a?void 0:a.url)||"/placeholder.svg?height=200&width=300&query=No%20image%20available",alt:e.title,className:"w-full h-full object-cover",loading:"lazy"}),(0,s.jsx)("div",{className:"absolute top-2 right-2",children:(0,s.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(e.is_published?"bg-green-500 text-white":"bg-yellow-500 text-black"),children:e.is_published?"Published":"Draft"})})]}),(0,s.jsxs)("div",{className:"p-4 flex flex-col h-full",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)("span",{className:"px-2 py-1 bg-secondary/20 theme-text rounded text-xs theme-transition",children:e.category}),(0,s.jsx)("span",{className:"text-xs theme-text opacity-50 theme-transition",children:new Date(e.updated_at).toLocaleDateString()})]}),(0,s.jsx)("h3",{className:"text-lg font-semibold theme-text mb-2 theme-transition line-clamp-1",children:e.title}),(0,s.jsx)("p",{className:"text-sm theme-text opacity-70 mb-4 line-clamp-3 theme-transition flex-grow",children:e.description}),(0,s.jsxs)("div",{className:"flex items-center justify-between text-xs theme-text opacity-60 mb-4 theme-transition",children:[(0,s.jsxs)("span",{className:"flex items-center",children:[(0,s.jsx)(S.Z,{className:"w-3 h-3 mr-1"}),e.duration]}),(0,s.jsxs)("span",{className:"flex items-center",children:[(0,s.jsx)(N.Z,{className:"w-3 h-3 mr-1"}),e.team_size]})]}),(0,s.jsxs)("div",{className:"flex gap-2 mt-auto",children:[(0,s.jsxs)(o.z,{size:"sm",variant:"outline",onClick:()=>e$(e),className:"flex-1",children:[(0,s.jsx)(P.Z,{className:"w-3 h-3 mr-1"}),"Edit"]}),(0,s.jsx)(o.z,{size:"sm",variant:"outline",onClick:()=>e3(e.id),className:e.is_published?"text-yellow-600":"text-green-600",children:e.is_published?(0,s.jsx)(I.Z,{className:"w-3 h-3"}):(0,s.jsx)(z.Z,{className:"w-3 h-3"})}),(0,s.jsx)(o.z,{size:"sm",variant:"outline",onClick:async()=>{let t=await c.toggleProjectFeaturedStatus(e.id);g(e=>e.map(e=>e.id===t.id?t:e))},className:e.is_featured?"text-blue-600":"text-gray-600",children:(0,s.jsx)(E.Z,{className:"w-3 h-3"})}),(0,s.jsx)(o.z,{size:"sm",variant:"outline",onClick:()=>e4(e.id),className:"text-red-600 hover:text-red-700",children:(0,s.jsx)(T.Z,{className:"w-3 h-3"})})]})]})]},e.id)}),"blog"===m&&eV.map((e,t)=>(0,s.jsx)(R,{post:e,onEdit:e=>{eh(e),eB(e),el(!0)},onTogglePublish:te,onDelete:e7,cardBgClass:i.cardBg,index:t},e.id)),"testimonials"===m&&eK.map((e,t)=>(0,s.jsx)(H,{testimonial:e,onEdit:e=>{eu(e),eR(e),er(!0)},onTogglePublish:ts,onToggleFeatured:tl,onDelete:ta,cardBgClass:i.cardBg,index:t},e.id)),"partners"===m&&eX.map((e,t)=>(0,s.jsx)(B,{partner:e,onEdit:e=>{ep(e),eO(e),eo(!0)},onTogglePublish:async e=>{let t=await c.togglePartnerPublishStatus(e);Q(e=>e.map(e=>e.id===t.id?t:e))},onToggleFeatured:async e=>{let t=await c.togglePartnerFeaturedStatus(e);Q(e=>e.map(e=>e.id===t.id?t:e))},onDelete:async e=>{confirm("Delete this partner?")&&(await c.deletePartner(e),Q(t=>t.filter(t=>t.id!==e)))},cardBgClass:i.cardBg,index:t},e.id))]}),("projects"===m&&0===eH.length||"blog"===m&&0===eV.length||"testimonials"===m&&0===eK.length||"partners"===m&&0===eX.length)&&(0,s.jsxs)(r.E.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:[(0,s.jsx)("div",{className:"text-6xl mb-4",children:"projects"===m?"\uD83D\uDCC1":"blog"===m?"\uD83D\uDCDD":"\uD83D\uDCAC"}),(0,s.jsxs)("h3",{className:"text-xl font-semibold theme-text mb-2 theme-transition",children:["No ","projects"===m?"projects":"blog"===m?"blog posts":"testimonials"===m?"testimonials":"partners"," found"]}),(0,s.jsx)("p",{className:"theme-text opacity-70 theme-transition",children:eb||"All"!==ej||"All"!==ev?"Try adjusting your filters":"Create your first ".concat("projects"===m?"project":"blog"===m?"blog post":"testimonials"===m?"testimonial":"partner"," to get started")})]})]}),(0,s.jsx)(n.M,{children:ee&&(0,s.jsx)(r.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 overflow-y-auto",onClick:()=>eY(),children:(0,s.jsxs)(r.E.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"".concat(i.cardBg," backdrop-blur-md rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto theme-transition"),onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold theme-text theme-transition",children:ec?"Edit Project":"Add New Project"}),(0,s.jsx)(o.z,{variant:"ghost",onClick:eY,children:(0,s.jsx)(D.Z,{className:"w-5 h-5"})})]}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium theme-text mb-2 theme-transition",children:"Title *"}),(0,s.jsx)(b.I,{value:eZ.title||"",onChange:e=>eL(t=>({...t,title:e.target.value})),placeholder:"Project title",className:"theme-text bg-transparent"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium theme-text mb-2 theme-transition",children:"Category *"}),(0,s.jsxs)("select",{value:eZ.category||"",onChange:e=>eL(t=>({...t,category:e.target.value})),className:"w-full px-3 py-2 rounded-md border ".concat("dark"===t||"black"===a?"border-gray-600 bg-gray-800/50":"border-gray-300 bg-white/50"," theme-text theme-transition"),children:[(0,s.jsx)("option",{value:"",children:"Select category"}),K.map(e=>(0,s.jsx)("option",{value:e,children:e},e))]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium theme-text theme-transition",children:"Technology Stack"}),(0,s.jsxs)("div",{className:"relative w-48",children:[(0,s.jsx)(k.Z,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 w-3 h-3 theme-text opacity-40"}),(0,s.jsx)(b.I,{value:eD,onChange:e=>eA(e.target.value),placeholder:"Search tech...",className:"pl-8 py-1 h-8 text-xs bg-transparent border-gray-300 dark:border-gray-600 focus:ring-1 focus:ring-primary"})]})]}),(0,s.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 max-h-48 overflow-y-auto p-2 border rounded-md bg-black/5 dark:bg-white/5",children:X.filter(e=>{var t;return e.toLowerCase().includes(eD.toLowerCase())||(null===(t=eZ.technology)||void 0===t?void 0:t.includes(e))}).map(e=>{var t;return(0,s.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,s.jsx)("input",{type:"checkbox",checked:(null===(t=eZ.technology)||void 0===t?void 0:t.includes(e))||!1,onChange:t=>{let a=eZ.technology||[];t.target.checked?eL(t=>({...t,technology:[...a,e]})):eL(t=>({...t,technology:a.filter(t=>t!==e)}))},className:"rounded"}),(0,s.jsx)("span",{className:"text-sm theme-text theme-transition",children:e})]},e)})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium theme-text mb-2 theme-transition",children:"Short Description *"}),(0,s.jsx)(f.g,{value:eZ.description||"",onChange:e=>eL(t=>({...t,description:e.target.value})),placeholder:"Brief project description",className:"theme-text bg-transparent",rows:3})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium theme-text mb-2 theme-transition",children:"Long Description"}),(0,s.jsx)(f.g,{value:eZ.long_description||"",onChange:e=>eL(t=>({...t,long_description:e.target.value})),placeholder:"Detailed project description",className:"theme-text bg-transparent",rows:5})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium theme-text mb-2 theme-transition",children:"Challenge"}),(0,s.jsx)(f.g,{value:eZ.challenge||"",onChange:e=>eL(t=>({...t,challenge:e.target.value})),placeholder:"What challenges did you face?",className:"theme-text bg-transparent",rows:4})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium theme-text mb-2 theme-transition",children:"Solution"}),(0,s.jsx)(f.g,{value:eZ.solution||"",onChange:e=>eL(t=>({...t,solution:e.target.value})),placeholder:"How did you solve them?",className:"theme-text bg-transparent",rows:4})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium theme-text mb-2 theme-transition",children:"Duration"}),(0,s.jsx)(b.I,{value:eZ.duration||"",onChange:e=>eL(t=>({...t,duration:e.target.value})),placeholder:"e.g., 3 months",className:"theme-text bg-transparent"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium theme-text mb-2 theme-transition",children:"Team Size"}),(0,s.jsx)(b.I,{type:"number",value:eZ.team_size||1,onChange:e=>eL(t=>({...t,team_size:Number(e.target.value)})),min:1,className:"theme-text bg-transparent"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium theme-text mb-2 theme-transition",children:"Client Type"}),(0,s.jsx)(b.I,{value:eZ.client_type||"",onChange:e=>eL(t=>({...t,client_type:e.target.value})),placeholder:"e.g., Startup, Enterprise",className:"theme-text bg-transparent"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium theme-text mb-2 theme-transition",children:"Live URL"}),(0,s.jsx)(b.I,{value:eZ.live_url||"",onChange:e=>eL(t=>({...t,live_url:e.target.value})),placeholder:"https://example.com",className:"theme-text bg-transparent"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium theme-text mb-2 theme-transition",children:"GitHub URL"}),(0,s.jsx)(b.I,{value:eZ.github_url||"",onChange:e=>eL(t=>({...t,github_url:e.target.value})),placeholder:"https://github.com/...",className:"theme-text bg-transparent"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)("label",{className:"block text-sm font-medium theme-text theme-transition",children:"Project Images"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("input",{id:"bulkUploadInput",type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:e=>{to(e.target.files),e.currentTarget.value=""}}),(0,s.jsxs)(o.z,{type:"button",variant:"outline",onClick:()=>{var e;return null===(e=document.getElementById("bulkUploadInput"))||void 0===e?void 0:e.click()},className:"bg-transparent",disabled:eI,children:[(0,s.jsx)(A.Z,{className:"w-4 h-4 mr-2"}),eI?"Uploading...":"Upload image(s)"]}),(0,s.jsxs)(o.z,{type:"button",variant:"outline",onClick:()=>{var e;let t=Math.max(...(null===(e=eZ.images)||void 0===e?void 0:e.map(e=>e.id))||[0])+1;eL(e=>({...e,images:[...e.images||[],{id:t,url:"",alt:"",caption:""}]}))},className:"bg-transparent",children:[(0,s.jsx)(_.Z,{className:"w-4 h-4 mr-2"}),"Add empty row"]})]})]}),eE&&(0,s.jsx)("p",{className:"text-sm text-red-600 mb-2",children:eE}),(0,s.jsx)("div",{className:"space-y-3",children:null===(e=eZ.images)||void 0===e?void 0:e.map((e,t)=>(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-3 p-3 border rounded-md",children:[(0,s.jsx)("div",{className:"md:col-span-2 flex items-center justify-center",children:(0,s.jsx)("div",{className:"relative w-full aspect-video max-h-24 overflow-hidden rounded bg-muted",children:e.url?(0,s.jsx)("img",{src:e.url||"/placeholder.svg",alt:e.alt||"Preview",className:"w-full h-full object-cover",loading:"lazy"}):(0,s.jsx)("img",{src:"/no-image-selected.jpg",alt:"No image",className:"w-full h-full object-cover"})})}),(0,s.jsx)("div",{className:"md:col-span-4",children:(0,s.jsx)(b.I,{placeholder:"Alt text",value:e.alt,onChange:e=>ti(t,"alt",e.target.value),className:"theme-text bg-transparent"})}),(0,s.jsx)("div",{className:"md:col-span-3",children:(0,s.jsx)(b.I,{placeholder:"Caption (optional)",value:e.caption||"",onChange:e=>ti(t,"caption",e.target.value),className:"theme-text bg-transparent"})}),(0,s.jsxs)("div",{className:"md:col-span-3 flex gap-2 items-center",children:[(0,s.jsx)(b.I,{placeholder:"Image URL",value:e.url,onChange:e=>ti(t,"url",e.target.value),className:"theme-text bg-transparent"}),(0,s.jsx)("input",{id:"upload-input-".concat(e.id),type:"file",accept:"image/*",className:"hidden",onChange:e=>{var a;let s=null===(a=e.target.files)||void 0===a?void 0:a[0];s&&tn(t,s),e.currentTarget.value=""}}),(0,s.jsx)(o.z,{type:"button",variant:"outline",size:"sm",onClick:()=>{var t;return null===(t=document.getElementById("upload-input-".concat(e.id)))||void 0===t?void 0:t.click()},disabled:eS===t||eI,className:"bg-transparent whitespace-nowrap",children:eS===t?"Uploading...":"Upload"})]}),(0,s.jsx)("div",{className:"md:col-span-12 flex items-center gap-2 justify-end",children:eZ.images&&eZ.images.length>1&&(0,s.jsx)(o.z,{type:"button",variant:"outline",size:"sm",onClick:()=>tr(t),className:"text-red-600",children:(0,s.jsx)(T.Z,{className:"w-4 h-4"})})})]},e.id))})]}),(0,s.jsxs)("div",{className:"flex items-center gap-6",children:[(0,s.jsxs)("label",{className:"flex items-center gap-2",children:[(0,s.jsx)("input",{type:"checkbox",id:"isProjectPublished",checked:eZ.is_published||!1,onChange:e=>eL(t=>({...t,is_published:e.target.checked})),className:"rounded"}),(0,s.jsx)("span",{className:"text-sm font-medium theme-text theme-transition",children:"Publish immediately"})]}),(0,s.jsxs)("label",{className:"flex items-center gap-2",children:[(0,s.jsx)("input",{type:"checkbox",id:"isProjectFeatured",checked:eZ.is_featured||!1,onChange:e=>eL(t=>({...t,is_featured:e.target.checked})),className:"rounded"}),(0,s.jsxs)("span",{className:"text-sm font-medium theme-text theme-transition flex items-center",children:[(0,s.jsx)(E.Z,{className:"w-3 h-3 mr-1"})," Featured Project"]})]})]})]}),(0,s.jsxs)("div",{className:"flex gap-4 mt-8 pt-6 border-t border-gray-300 dark:border-gray-600",children:[(0,s.jsxs)(o.z,{onClick:e2,className:"bg-primary hover:bg-primary/90 text-white flex-1",children:[(0,s.jsx)(Z.Z,{className:"w-4 h-4 mr-2"}),ec?"Update Project":"Create Project"]}),(0,s.jsx)(o.z,{variant:"outline",onClick:eY,className:"flex-1 bg-transparent",children:"Cancel"})]})]})})}),(0,s.jsx)(J,{isOpen:ea,onClose:()=>{el(!1),eh(null)},onSave:e9,editingPost:em,formData:eU,setFormData:e=>eB(t=>e(t)),blogTags:Y,slugify:F.l}),(0,s.jsx)(V,{isOpen:ei,onClose:()=>{er(!1),eu(null)},onSave:tt,editingTestimonial:ex,categories:K,formData:eF,setFormData:e=>eR(t=>e(t))}),(0,s.jsx)(es,{toasts:d.toasts,onClose:d.removeToast}),(0,s.jsx)(U,{isOpen:en,onClose:()=>{eo(!1),ep(null)},onSave:async()=>{try{if(!eM.company_name||!eM.company_logo){d.warning("Missing Information","Name and logo are required");return}if(eg){let e=await c.updatePartner(eg.id,eM);Q(t=>t.map(t=>t.id===e.id?e:t)),d.success("Partner Updated","Partner has been successfully updated")}else{let e=await c.addPartner(eM);Q(t=>[e,...t]),d.success("Partner Added","New partner has been added successfully")}eo(!1),ep(null)}catch(e){console.error(e),d.error("Save Failed","Error saving partner. Please try again.")}},editingPartner:eg,formData:eM,setFormData:e=>eO(t=>e(t))})]})}function ei(){let{isAuthenticated:e,isLoading:t}=(0,g.a)(),a=(0,i.useRouter)();return((0,l.useEffect)(()=>{t||e||a.replace("/admin-login")},[e,t,a]),t)?(0,s.jsx)("div",{className:"min-h-screen theme-bg theme-transition flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),(0,s.jsx)("p",{className:"theme-text theme-transition",children:"Initializing admin panel..."})]})}):e?(0,s.jsx)(p,{children:(0,s.jsx)(el,{})}):(0,s.jsx)("div",{className:"min-h-screen theme-bg theme-transition flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),(0,s.jsx)("p",{className:"theme-text theme-transition",children:"Redirecting to login..."})]})})}},62869:function(e,t,a){"use strict";a.d(t,{z:function(){return c}});var s=a(57437),l=a(2265),i=a(98482),r=a(90535),n=a(94508);let o=(0,r.j)("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=l.forwardRef((e,t)=>{let{className:a,variant:l,size:r,asChild:c=!1,...d}=e,m=c?i.g7:"button";return(0,s.jsx)(m,{className:(0,n.cn)(o({variant:l,size:r,className:a})),ref:t,...d})});c.displayName="Button"},95186:function(e,t,a){"use strict";a.d(t,{I:function(){return r}});var s=a(57437),l=a(2265),i=a(94508);let r=l.forwardRef((e,t)=>{let{className:a,type:l,...r}=e;return(0,s.jsx)("input",{type:l,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:t,...r})});r.displayName="Input"},76818:function(e,t,a){"use strict";a.d(t,{g:function(){return r}});var s=a(57437),l=a(2265),i=a(94508);let r=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)("textarea",{className:(0,i.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:t,...l})});r.displayName="Textarea"},18945:function(e,t,a){"use strict";a.d(t,{AuthProvider:function(){return n},a:function(){return o}});var s=a(57437),l=a(2265),i=a(2141);let r=(0,l.createContext)(void 0);function n(e){let{children:t}=e,[a,n]=(0,l.useState)({user:null,isAuthenticated:!1,isLoading:!0,failedAttempts:0,lockoutUntil:null});(0,l.useEffect)(()=>{i.O.auth.getSession().then(e=>{let{data:{session:t},error:a}=e;n(e=>{var a;return{...e,user:null!==(a=null==t?void 0:t.user)&&void 0!==a?a:null,isAuthenticated:!!(null==t?void 0:t.user),isLoading:!1}})}).catch(e=>{console.error("Error getting initial session:",e),n(e=>({...e,isLoading:!1}))});let{data:{subscription:e}}=i.O.auth.onAuthStateChange((e,t)=>{n(e=>{var a;return{...e,user:null!==(a=null==t?void 0:t.user)&&void 0!==a?a:null,isAuthenticated:!!(null==t?void 0:t.user),isLoading:!1}})}),t=localStorage.getItem("admin_failed_attempts"),a=localStorage.getItem("admin_lockout");if(t){let e=parseInt(t,10);n(t=>({...t,failedAttempts:e}))}if(a){let e=parseInt(a,10);Date.now()<e?n(t=>({...t,lockoutUntil:e})):(localStorage.removeItem("admin_lockout"),localStorage.removeItem("admin_failed_attempts"))}return()=>{e.unsubscribe()}},[]),(0,l.useEffect)(()=>{if(a.lockoutUntil){let e=setInterval(()=>{Date.now()>=a.lockoutUntil&&(n(e=>({...e,lockoutUntil:null,failedAttempts:0})),localStorage.removeItem("admin_lockout"),localStorage.removeItem("admin_failed_attempts"))},1e3);return()=>clearInterval(e)}},[a.lockoutUntil]);let o=async(e,t)=>{let s=Date.now();if(a.lockoutUntil&&s<a.lockoutUntil){let e=a.lockoutUntil-s;return{success:!1,error:"Account locked. Try again in ".concat(Math.ceil(e/6e4)," minutes.")}}try{let{data:l,error:r}=await i.O.auth.signInWithPassword({email:e,password:t});if(r){let e=a.failedAttempts+1,t=e>=3;if(n(a=>({...a,failedAttempts:e,lockoutUntil:t?s+9e5:null})),localStorage.setItem("admin_failed_attempts",e.toString()),t&&localStorage.setItem("admin_lockout",(s+9e5).toString()),t)return{success:!1,error:"Too many failed attempts. Account locked for 15 minutes."};return{success:!1,error:"Invalid credentials. ".concat(3-e," attempts remaining.")}}return n(e=>({...e,failedAttempts:0,lockoutUntil:null})),localStorage.removeItem("admin_failed_attempts"),localStorage.removeItem("admin_lockout"),{success:!0}}catch(e){return{success:!1,error:"An unexpected error occurred"}}},c=async()=>{await i.O.auth.signOut(),n({user:null,isAuthenticated:!1,isLoading:!1,failedAttempts:0,lockoutUntil:null})},d=!!a.lockoutUntil&&Date.now()<a.lockoutUntil,m=a.lockoutUntil?Math.max(0,a.lockoutUntil-Date.now()):0,h={...a,login:o,logout:c,isLockedOut:d,lockoutTimeRemaining:m,formatLockoutTime:e=>"".concat(Math.floor(e/6e4),":").concat(Math.floor(e%6e4/1e3).toString().padStart(2,"0"))};return(0,s.jsx)(r.Provider,{value:h,children:t})}function o(){let e=(0,l.useContext)(r);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},94508:function(e,t,a){"use strict";a.d(t,{cn:function(){return i},l:function(){return r},p:function(){return n}});var s=a(61994),l=a(53335);function i(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,l.m6)((0,s.W)(t))}function r(e){return e.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}function n(e){return new Date(e).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})}}},function(e){e.O(0,[3583,6137,9683,7407,4202,2770,2971,2117,1744],function(){return e(e.s=78939)}),_N_E=e.O()}]);